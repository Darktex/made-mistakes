(function(e,t,n,r){"use strict";var i=n(e),s=n(t),o=n.fancybox=function(){o.open.apply(this,arguments)},u=!1,a=null,f=t.createTouch!==r,l=function(e){return n.type(e)==="string"},c=function(e){return l(e)&&e.indexOf("%")>0},h=function(e,t){t&&c(e)&&(e=o.getViewport()[t]/100*parseInt(e,10));return Math.round(e)+"px"};n.extend(o,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!f,autoCenter:!f,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(n.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){o.close(!0);e&&!n.isArray(e)&&(e=e instanceof n?n(e).get():[e]);o.isActive=!0;o.opts=n.extend(!0,{},o.defaults,t);n.isPlainObject(t)&&t.keys!==r&&(o.opts.keys=t.keys?n.extend({},o.defaults.keys,t.keys):!1);o.group=e;o._start(o.opts.index||0)},cancel:function(){if(o.coming&&!1===o.trigger("onCancel"))return;o.coming=null;o.hideLoading();o.ajaxLoad&&o.ajaxLoad.abort();o.ajaxLoad=null;o.imgPreload&&(o.imgPreload.onload=o.imgPreload.onabort=o.imgPreload.onerror=null)},close:function(e){o.cancel();if(!o.current||!1===o.trigger("beforeClose"))return;o.unbindEvents();if(!o.isOpen||e&&e[0]===!0){n(".fancybox-wrap").stop().trigger("onReset").remove();o._afterZoomOut()}else{o.isOpen=o.isOpened=!1;n(".fancybox-item, .fancybox-nav").remove();o.wrap.stop(!0).removeClass("fancybox-opened");o.inner.css("overflow","hidden");o.transitions[o.current.closeMethod]()}},play:function(e){var t=function(){clearTimeout(o.player.timer)},r=function(){t();o.current&&o.player.isActive&&(o.player.timer=setTimeout(o.next,o.current.playSpeed))},i=function(){t();n("body").unbind(".player");o.player.isActive=!1;o.trigger("onPlayEnd")},s=function(){if(o.current&&(o.current.loop||o.current.index<o.group.length-1)){o.player.isActive=!0;n("body").bind({"afterShow.player onUpdate.player":r,"onCancel.player beforeClose.player":i,"beforeLoad.player":t});r();o.trigger("onPlayStart")}};o.player.isActive||e&&e[0]===!1?i():s()},next:function(){o.current&&o.jumpto(o.current.index+1)},prev:function(){o.current&&o.jumpto(o.current.index-1)},jumpto:function(e){if(!o.current)return;e=parseInt(e,10);o.group.length>1&&o.current.loop&&(e>=o.group.length?e=0:e<0&&(e=o.group.length-1));if(o.group[e]!==r){o.cancel();o._start(e)}},reposition:function(e,t){var n;if(o.isOpen){n=o._getPosition(t);if(e&&e.type==="scroll"){delete n.position;o.wrap.stop(!0,!0).animate(n,200)}else o.wrap.css(n)}},update:function(e){if(!o.isOpen)return;u||(a=setTimeout(function(){var t=o.current,n=!e||e&&e.type==="orientationchange";if(u){u=!1;if(!t)return;if(!e||e.type!=="scroll"||n){if(t.autoSize&&t.type!=="iframe"){o.inner.height("auto");t.height=o.inner.height()}(t.autoResize||n)&&o._setDimension();t.canGrow&&t.type!=="iframe"&&o.inner.height("auto")}(t.autoCenter||n)&&o.reposition(e);o.trigger("onUpdate")}},200));u=!0},toggle:function(){if(o.isOpen){o.current.fitToView=!o.current.fitToView;o.update()}},hideLoading:function(){s.unbind("keypress.fb");n("#fancybox-loading").remove()},showLoading:function(){o.hideLoading();s.bind("keypress.fb",function(e){if(e.keyCode===27){e.preventDefault();o.cancel()}});n('<div id="fancybox-loading"><div></div></div>').click(o.cancel).appendTo("body")},getViewport:function(){return{x:i.scrollLeft(),y:i.scrollTop(),w:f&&e.innerWidth?e.innerWidth:i.width(),h:f&&e.innerHeight?e.innerHeight:i.height()}},unbindEvents:function(){o.wrap&&o.wrap.unbind(".fb");s.unbind(".fb");i.unbind(".fb")},bindEvents:function(){var e=o.current,t=e.keys;if(!e)return;i.bind("resize.fb orientationchange.fb"+(e.autoCenter&&!e.fixed?" scroll.fb":""),o.update);t&&s.bind("keydown.fb",function(e){var r,i=e.target||e.srcElement;if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&(!i||!i.type&&!n(i).is("[contenteditable]"))){r=e.keyCode;if(n.inArray(r,t.close)>-1){o.close();e.preventDefault()}else if(n.inArray(r,t.next)>-1){o.next();e.preventDefault()}else if(n.inArray(r,t.prev)>-1){o.prev();e.preventDefault()}}});n.fn.mousewheel&&e.mouseWheel&&o.group.length>1&&o.wrap.bind("mousewheel.fb",function(e,t){var n=e.target||null;if(t!==0&&(!n||n.clientHeight===0||n.scrollHeight===n.clientHeight&&n.scrollWidth===n.clientWidth)){e.preventDefault();o[t>0?"prev":"next"]()}})},trigger:function(e,t){var r,i=t||o[n.inArray(e,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(!i)return;n.isFunction(i[e])&&(r=i[e].apply(i,Array.prototype.slice.call(arguments,1)));if(r===!1)return!1;i.helpers&&n.each(i.helpers,function(t,r){r&&n.isPlainObject(o.helpers[t])&&n.isFunction(o.helpers[t][e])&&o.helpers[t][e](r,i)});n.event.trigger(e+".fb")},isImage:function(e){return l(e)&&e.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(e){return l(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t={},r=o.group[e]||null,i,s,u,a,f;if(r&&(r.nodeType||r instanceof n)){i=!0;n.metadata&&(t=n(r).metadata())}t=n.extend(!0,{},o.opts,{index:e,element:r},n.isPlainObject(r)?r:t);n.each(["href","title","content","type"],function(e,s){t[s]=o.opts[s]||i&&n(r).attr(s)||t[s]||null});typeof t.margin=="number"&&(t.margin=[t.margin,t.margin,t.margin,t.margin]);t.modal&&n.extend(!0,t,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});o.coming=t;if(!1===o.trigger("beforeLoad")){o.coming=null;return}u=t.type;s=t.href||r;if(!u){if(i){u=n(r).data("fancybox-type");if(!u){a=r.className.match(/fancybox\.(\w+)/);u=a?a[1]:null}}!u&&l(s)&&(o.isImage(s)?u="image":o.isSWF(s)?u="swf":s.match(/^#/)&&(u="inline"));u||(u=i?"inline":"html");t.type=u}if(u==="inline"||u==="html"){t.content||(u==="inline"?t.content=n(l(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):t.content=r);if(!t.content||!t.content.length)u=null}else s||(u=null);if(u==="ajax"&&l(s)){f=s.split(/\s+/,2);s=f.shift();t.selector=f.shift()}t.href=s;t.group=o.group;t.isDom=i;switch(u){case"image":o._loadImage();break;case"ajax":o._loadAjax();break;case"inline":case"iframe":case"swf":case"html":o._afterLoad();break;default:o._error("type")}},_error:function(e){o.hideLoading();n.extend(o.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:e,content:o.coming.tpl.error});o._afterLoad()},_loadImage:function(){var e=o.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null;o.coming.width=this.width;o.coming.height=this.height;o._afterLoad()};e.onerror=function(){this.onload=this.onerror=null;o._error("image")};e.src=o.coming.href;(e.complete===r||!e.complete)&&o.showLoading()},_loadAjax:function(){o.showLoading();o.ajaxLoad=n.ajax(n.extend({},o.coming.ajax,{url:o.coming.href,error:function(e,t){o.coming&&t!=="abort"?o._error("ajax",e):o.hideLoading()},success:function(e,t){if(t==="success"){o.coming.content=e;o._afterLoad()}}}))},_preloadImages:function(){var e=o.group,t=o.current,r=e.length,i,s,u,a=Math.min(t.preload,r-1);if(!t.preload||e.length<2)return;for(u=1;u<=a;u+=1){i=e[(t.index+u)%r];s=i.href||n(i).attr("href")||i;if(i.type==="image"||o.isImage(s))(new Image).src=s}},_afterLoad:function(){o.hideLoading();if(!o.coming||!1===o.trigger("afterLoad",o.current)){o.coming=!1;return}if(o.isOpened){n(".fancybox-item, .fancybox-nav").remove();o.wrap.stop(!0).removeClass("fancybox-opened");o.inner.css("overflow","hidden");o.transitions[o.current.prevMethod]()}else{n(".fancybox-wrap").stop().trigger("onReset").remove();o.trigger("afterClose")}o.unbindEvents();o.isOpen=!1;o.current=o.coming;o.wrap=n(o.current.tpl.wrap).addClass("fancybox-"+(f?"mobile":"desktop")+" fancybox-type-"+o.current.type+" fancybox-tmp "+o.current.wrapCSS).appendTo("body");o.skin=n(".fancybox-skin",o.wrap).css("padding",h(o.current.padding));o.outer=n(".fancybox-outer",o.wrap);o.inner=n(".fancybox-inner",o.wrap);o._setContent()},_setContent:function(){var e=o.current,t=e.content,r=e.type,i=e.minWidth,s=e.minHeight,u=e.maxWidth,a=e.maxHeight,l;switch(r){case"inline":case"ajax":case"html":if(e.selector)t=n("<div>").html(t).find(e.selector);else if(t instanceof n){t.parent().hasClass("fancybox-inner")&&t.parents(".fancybox-wrap").unbind("onReset");t=t.show().detach();n(o.wrap).bind("onReset",function(){t.appendTo("body").hide()})}if(e.autoSize){l=n('<div class="fancybox-wrap '+o.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:h(i,"w"),minHeight:h(s,"h"),maxWidth:h(u,"w"),maxHeight:h(a,"h")}).append(t);e.width=l.width();e.height=l.height();l.width(o.current.width);if(l.height()>e.height){l.width(e.width+1);e.width=l.width();e.height=l.height()}t=l.contents().detach();l.remove()}break;case"image":t=e.tpl.image.replace("{href}",e.href);e.aspectRatio=!0;break;case"swf":t=e.tpl.swf.replace(/\{width\}/g,e.width).replace(/\{height\}/g,e.height).replace(/\{href\}/g,e.href);break;case"iframe":t=n(e.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",e.scrolling).attr("src",e.href);e.scrolling=f?"scroll":"auto"}if(r==="image"||r==="swf"){e.autoSize=!1;e.scrolling="visible"}if(r==="iframe"&&e.autoSize){o.showLoading();o._setDimension();o.inner.css("overflow",e.scrolling);t.bind({onCancel:function(){n(this).unbind();o._afterZoomOut()},load:function(){o.hideLoading();try{this.contentWindow.document.location&&(o.current.height=n(this).contents().find("body").height())}catch(e){o.current.autoSize=!1}o[o.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(o.inner)}else{o.inner.append(t);o._beforeShow()}},_beforeShow:function(){o.coming=null;o.trigger("beforeShow");o._setDimension();o.wrap.hide().removeClass("fancybox-tmp");o.bindEvents();o._preloadImages();o.transitions[o.isOpened?o.current.nextMethod:o.current.openMethod]()},_setDimension:function(){var e=o.wrap,t=o.inner,r=o.current,i=o.getViewport(),s=r.margin,u=r.padding*2,a=r.width,f=r.height,l=r.maxWidth+u,p=r.maxHeight+u,d=r.minWidth+u,v=r.minHeight+u,m,g;i.w-=s[1]+s[3];i.h-=s[0]+s[2];c(a)&&(a=(i.w-u)*parseFloat(a)/100);c(f)&&(f=(i.h-u)*parseFloat(f)/100);m=a/f;a+=u;f+=u;if(r.fitToView){l=Math.min(i.w,l);p=Math.min(i.h,p)}if(r.aspectRatio){if(a>l){a=l;f=(a-u)/m+u}if(f>p){f=p;a=(f-u)*m+u}if(a<d){a=d;f=(a-u)/m+u}if(f<v){f=v;a=(f-u)*m+u}}else{a=Math.max(d,Math.min(a,l));f=Math.max(v,Math.min(f,p))}a=Math.round(a);f=Math.round(f);n(e.add(t)).width("auto").height("auto");t.width(a-u).height(f-u);e.width(a);g=e.height();if(a>l||g>p)while((a>l||g>p)&&a>d&&g>v){f-=10;if(r.aspectRatio){a=Math.round((f-u)*m+u);if(a<d){a=d;f=(a-u)/m+u}}else a-=10;t.width(a-u).height(f-u);e.width(a);g=e.height()}r.dim={width:h(a),height:h(g)};r.canGrow=r.autoSize&&f>v&&f<p;r.canShrink=!1;r.canExpand=!1;a-u<r.width||f-u<r.height?r.canExpand=!0:(a>i.w||g>i.h)&&a>d&&f>v&&(r.canShrink=!0);o.innerSpace=g-u-t.height()},_getPosition:function(e){var t=o.current,n=o.getViewport(),r=t.margin,i=o.wrap.width()+r[1]+r[3],s=o.wrap.height()+r[0]+r[2],u={position:"absolute",top:r[0]+n.y,left:r[3]+n.x};t.autoCenter&&t.fixed&&!e&&s<=n.h&&i<=n.w&&(u={position:"fixed",top:r[0],left:r[3]});u.top=h(Math.max(u.top,u.top+(n.h-s)*t.topRatio));u.left=h(Math.max(u.left,u.left+(n.w-i)*.5));return u},_afterZoomIn:function(){var e=o.current,t=e?e.scrolling:"no";if(!e)return;o.isOpen=o.isOpened=!0;o.wrap.addClass("fancybox-opened");o.inner.css("overflow",t==="yes"?"scroll":t==="no"?"hidden":t);o.trigger("afterShow");o.update();(e.closeClick||e.nextClick)&&o.inner.css("cursor","pointer").bind("click.fb",function(t){!n(t.target).is("a")&&!n(t.target).parent().is("a")&&o[e.closeClick?"close":"next"]()});e.closeBtn&&n(e.tpl.closeBtn).appendTo(o.skin).bind("click.fb",o.close);if(e.arrows&&o.group.length>1){(e.loop||e.index>0)&&n(e.tpl.prev).appendTo(o.outer).bind("click.fb",o.prev);(e.loop||e.index<o.group.length-1)&&n(e.tpl.next).appendTo(o.outer).bind("click.fb",o.next)}if(o.opts.autoPlay&&!o.player.isActive){o.opts.autoPlay=!1;o.play()}},_afterZoomOut:function(){var e=o.current;o.wrap.trigger("onReset").remove();n.extend(o,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null});o.trigger("afterClose",e)}});o.transitions={getOrigPosition:function(){var e=o.current,t=e.element,r=e.padding,i=n(e.orig),s={},u=50,a=50,f;if(!i.length&&e.isDom&&n(t).is(":visible")){i=n(t).find("img:first");i.length||(i=n(t))}if(i.length){s=i.offset();if(i.is("img")){u=i.outerWidth();a=i.outerHeight()}}else{f=o.getViewport();s.top=f.y+(f.h-a)*.5;s.left=f.x+(f.w-u)*.5}s={top:h(s.top-r),left:h(s.left-r),width:h(u+r*2),height:h(a+r*2)};return s},step:function(e,t){var n=t.prop,r,i;if(n==="width"||n==="height"){r=Math.ceil(e-o.current.padding*2);if(n==="height"){i=(e-t.start)/(t.end-t.start);t.start>t.end&&(i=1-i);r-=o.innerSpace*i}o.inner[n](r)}},zoomIn:function(){var e=o.wrap,t=o.current,r=t.openEffect,i=r==="elastic",s=t.dim,u=n.extend({},s,o._getPosition(i)),a=n.extend({opacity:1},u);delete a.position;if(i){u=this.getOrigPosition();t.openOpacity&&(u.opacity=0);o.outer.add(o.inner).width("auto").height("auto")}else r==="fade"&&(u.opacity=0);e.css(u).show().animate(a,{duration:r==="none"?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:o._afterZoomIn})},zoomOut:function(){var e=o.wrap,t=o.current,n=t.openEffect,r=n==="elastic",i={opacity:0};if(r){e.css("position")==="fixed"&&e.css(o._getPosition(!0));i=this.getOrigPosition();t.closeOpacity&&(i.opacity=0)}e.animate(i,{duration:n==="none"?0:t.closeSpeed,easing:t.closeEasing,step:r?this.step:null,complete:o._afterZoomOut})},changeIn:function(){var e=o.wrap,t=o.current,n=t.nextEffect,r=n==="elastic",i=o._getPosition(r),s={opacity:1};i.opacity=0;if(r){i.top=h(parseInt(i.top,10)-200);s.top="+=200px"}e.css(i).show().animate(s,{duration:n==="none"?0:t.nextSpeed,easing:t.nextEasing,complete:o._afterZoomIn})},changeOut:function(){var e=o.wrap,t=o.current,r=t.prevEffect,i={opacity:0},s=function(){n(this).trigger("onReset").remove()};e.removeClass("fancybox-opened");r==="elastic"&&(i.top="+=200px");e.animate(i,{duration:r==="none"?0:t.prevSpeed,easing:t.prevEasing,complete:s})}};o.helpers.overlay={overlay:null,update:function(){var e,r,o;this.overlay.width("100%").height("100%");if(n.browser.msie||f){r=Math.max(t.documentElement.scrollWidth,t.body.scrollWidth);o=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth);e=r<o?i.width():r}else e=s.width();this.overlay.width(e).height(s.height())},beforeShow:function(e){if(this.overlay)return;e=n.extend(!0,{},o.defaults.helpers.overlay,e);this.overlay=n('<div id="fancybox-overlay"></div>').css(e.css).appendTo("body");e.closeClick&&this.overlay.bind("click.fb",o.close);if(o.current.fixed&&!f)this.overlay.addClass("overlay-fixed");else{this.update();this.onUpdate=function(){this.update()}}this.overlay.fadeTo(e.speedIn,e.opacity)},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||0,function(){n(this).remove()});this.overlay=null}};o.helpers.title={beforeShow:function(e){var t,r=o.current.title;if(r){t=n('<div class="fancybox-title fancybox-title-'+e.type+'-wrap">'+r+"</div>").appendTo("body");if(e.type==="float"){t.width(t.width());t.wrapInner('<span class="child"></span>');o.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))}t.appendTo(e.type==="over"?o.inner:e.type==="outside"?o.wrap:o.skin)}}};n.fn.fancybox=function(e){var t=n(this),r=this.selector||"",i,u=function(s){var u=this,a=i,f,l;if(!(s.ctrlKey||s.altKey||s.shiftKey||s.metaKey)&&!n(u).is(".fancybox-wrap")){s.preventDefault();f=e.groupAttr||"data-fancybox-group";l=n(u).attr(f);if(!l){f="rel";l=u[f]}if(l&&l!==""&&l!=="nofollow"){u=r.length?n(r):t;u=u.filter("["+f+'="'+l+'"]');a=u.index(this)}e.index=a;o.open(u,e)}};e=e||{};i=e.index||0;r?s.undelegate(r,"click.fb-start").delegate(r,"click.fb-start",u):t.unbind("click.fb-start").bind("click.fb-start",u);return this};n(t).ready(function(){o.defaults.fixed=n.support.fixedPosition||!(n.browser.msie&&n.browser.version<=6)&&!f})})(window,document,jQuery);(function(e,t,n,r){function u(r,i){this.options=e.extend({},o,i);this._container=e("#"+this.options.containerID);if(!this._container.length)return;this.jQwindow=e(t);this.jQdocument=e(n);this._holder=e(r);this._nav={};this._first=e(this.options.first);this._previous=e(this.options.previous);this._next=e(this.options.next);this._last=e(this.options.last);this._items=this._container.children(":visible");this._itemsShowing=e([]);this._itemsHiding=e([]);this._numPages=Math.ceil(this._items.length/this.options.perPage);this._currentPageNum=this.options.startPage;this._clicked=!1;this._cssAnimSupport=this.getCSSAnimationSupport();this.init()}var i="jPages",s=null,o={containerID:"",first:!1,previous:"← previous",next:"next →",last:!1,links:"numeric",startPage:1,perPage:10,midRange:5,startRange:1,endRange:1,keyBrowse:!1,scrollBrowse:!1,pause:0,clickStop:!1,delay:50,direction:"forward",animation:"",fallback:400,minHeight:!0,callback:r};u.prototype={constructor:u,getCSSAnimationSupport:function(){var e=!1,t="animation",n="",i="Webkit Moz O ms Khtml".split(" "),s="",o=this._container.get(0);o.style.animationName&&(e=!0);if(e===!1)for(var u=0;u<i.length;u++)if(o.style[i[u]+"AnimationName"]!==r){s=i[u];t=s+"Animation";n="-"+s.toLowerCase()+"-";e=!0;break}return e},init:function(){this.setStyles();this.setNav();this.paginate(this._currentPageNum);this.setMinHeight()},setStyles:function(){var t="<style>.jp-invisible { visibility: hidden !important; } .jp-hidden { display: none !important; }</style>";e(t).appendTo("head");this._cssAnimSupport&&this.options.animation.length?this._items.addClass("animated jp-hidden"):this._items.hide()},setNav:function(){var t=this.writeNav();this._holder.each(this.bind(function(n,r){var i=e(r);i.html(t);this.cacheNavElements(i,n);this.bindNavHandlers(n);this.disableNavSelection(r)},this));this.options.keyBrowse&&this.bindNavKeyBrowse();this.options.scrollBrowse&&this.bindNavScrollBrowse()},writeNav:function(){var e=1,t;t=this.writeBtn("first")+this.writeBtn("previous");for(;e<=this._numPages;e++){e===1&&this.options.startRange===0&&(t+="<span>...</span>");e>this.options.startRange&&e<=this._numPages-this.options.endRange?t+="<a href='#' class='jp-hidden'>":t+="<a>";switch(this.options.links){case"numeric":t+=e;break;case"blank":break;case"title":var n=this._items.eq(e-1).attr("data-title");t+=n!==r?n:""}t+="</a>";if(e===this.options.startRange||e===this._numPages-this.options.endRange)t+="<span>...</span>"}t+=this.writeBtn("next")+this.writeBtn("last")+"</div>";return t},writeBtn:function(t){return this.options[t]!==!1&&!e(this["_"+t]).length?"<a class='jp-"+t+"'>"+this.options[t]+"</a>":""},cacheNavElements:function(t,n){this._nav[n]={};this._nav[n].holder=t;this._nav[n].first=this._first.length?this._first:this._nav[n].holder.find("a.jp-first");this._nav[n].previous=this._previous.length?this._previous:this._nav[n].holder.find("a.jp-previous");this._nav[n].next=this._next.length?this._next:this._nav[n].holder.find("a.jp-next");this._nav[n].last=this._last.length?this._last:this._nav[n].holder.find("a.jp-last");this._nav[n].fstBreak=this._nav[n].holder.find("span:first");this._nav[n].lstBreak=this._nav[n].holder.find("span:last");this._nav[n].pages=this._nav[n].holder.find("a").not(".jp-first, .jp-previous, .jp-next, .jp-last");this._nav[n].permPages=this._nav[n].pages.slice(0,this.options.startRange).add(this._nav[n].pages.slice(this._numPages-this.options.endRange,this._numPages));this._nav[n].pagesShowing=e([]);this._nav[n].currentPage=e([])},bindNavHandlers:function(t){var n=this._nav[t];n.holder.bind("click.jPages",this.bind(function(t){var r=this.getNewPage(n,e(t.target));if(this.validNewPage(r)){this._clicked=!0;this.paginate(r)}t.preventDefault()},this));this._first.length&&this._first.bind("click.jPages",this.bind(function(){if(this.validNewPage(1)){this._clicked=!0;this.paginate(1)}},this));this._previous.length&&this._previous.bind("click.jPages",this.bind(function(){var e=this._currentPageNum-1;if(this.validNewPage(e)){this._clicked=!0;this.paginate(e)}},this));this._next.length&&this._next.bind("click.jPages",this.bind(function(){var e=this._currentPageNum+1;if(this.validNewPage(e)){this._clicked=!0;this.paginate(e)}},this));this._last.length&&this._last.bind("click.jPages",this.bind(function(){if(this.validNewPage(this._numPages)){this._clicked=!0;this.paginate(this._numPages)}},this))},disableNavSelection:function(e){typeof e.onselectstart!="undefined"?e.onselectstart=function(){return!1}:typeof e.style.MozUserSelect!="undefined"?e.style.MozUserSelect="none":e.onmousedown=function(){return!1}},bindNavKeyBrowse:function(){this.jQdocument.bind("keydown.jPages",this.bind(function(e){var t=e.target.nodeName.toLowerCase();if(this.elemScrolledIntoView()&&t!=="input"&&t!="textarea"){var n=this._currentPageNum;e.which==37&&(n=this._currentPageNum-1);e.which==39&&(n=this._currentPageNum+1);if(this.validNewPage(n)){this._clicked=!0;this.paginate(n)}}},this))},elemScrolledIntoView:function(){var e,t,n,r;e=this.jQwindow.scrollTop();t=e+this.jQwindow.height();n=this._container.offset().top;r=n+this._container.height();return r>=e&&n<=t},bindNavScrollBrowse:function(){this._container.bind("mousewheel.jPages DOMMouseScroll.jPages",this.bind(function(e){var t=(e.originalEvent.wheelDelta||-e.originalEvent.detail)>0?this._currentPageNum-1:this._currentPageNum+1;if(this.validNewPage(t)){this._clicked=!0;this.paginate(t)}e.preventDefault();return!1},this))},getNewPage:function(e,t){if(t.is(e.currentPage))return this._currentPageNum;if(t.is(e.pages))return e.pages.index(t)+1;if(t.is(e.first))return 1;if(t.is(e.last))return this._numPages;if(t.is(e.previous))return e.pages.index(e.currentPage);if(t.is(e.next))return e.pages.index(e.currentPage)+2},validNewPage:function(e){return e!==this._currentPageNum&&e>0&&e<=this._numPages},paginate:function(t){var n,r;n=this.updateItems(t);r=this.updatePages(t);this._currentPageNum=t;e.isFunction(this.options.callback)&&this.callback(t,n,r);this.updatePause()},updateItems:function(e){var t=this.getItemRange(e);this._itemsHiding=this._itemsShowing;this._itemsShowing=this._items.slice(t.start,t.end);this._cssAnimSupport&&this.options.animation.length?this.cssAnimations(e):this.jQAnimations(e);return t},getItemRange:function(e){var t={};t.start=(e-1)*this.options.perPage;t.end=t.start+this.options.perPage;t.end>this._items.length&&(t.end=this._items.length);return t},cssAnimations:function(e){clearInterval(this._delay);this._itemsHiding.removeClass(this.options.animation+" jp-invisible").addClass("jp-hidden");this._itemsShowing.removeClass("jp-hidden").addClass("jp-invisible");this._itemsOriented=this.getDirectedItems(e);this._index=0;this._delay=setInterval(this.bind(function(){this._index===this._itemsOriented.length?clearInterval(this._delay):this._itemsOriented.eq(this._index).removeClass("jp-invisible").addClass(this.options.animation);this._index=this._index+1},this),this.options.delay)},jQAnimations:function(e){clearInterval(this._delay);this._itemsHiding.addClass("jp-hidden");this._itemsShowing.fadeTo(0,0).removeClass("jp-hidden");this._itemsOriented=this.getDirectedItems(e);this._index=0;this._delay=setInterval(this.bind(function(){this._index===this._itemsOriented.length?clearInterval(this._delay):this._itemsOriented.eq(this._index).fadeTo(this.options.fallback,1);this._index=this._index+1},this),this.options.delay)},getDirectedItems:function(t){var n;switch(this.options.direction){case"backwards":n=e(this._itemsShowing.get().reverse());break;case"random":n=e(this._itemsShowing.get().sort(function(){return Math.round(Math.random())-.5}));break;case"auto":n=t>=this._currentPageNum?this._itemsShowing:e(this._itemsShowing.get().reverse());break;default:n=this._itemsShowing}return n},updatePages:function(e){var t,n,r;t=this.getInterval(e);for(n in this._nav)if(this._nav.hasOwnProperty(n)){r=this._nav[n];this.updateBtns(r,e);this.updateCurrentPage(r,e);this.updatePagesShowing(r,t);this.updateBreaks(r,t)}return t},getInterval:function(e){var t,n,r,i;t=Math.ceil(this.options.midRange/2);n=this._numPages-this.options.midRange;r=e>t?Math.max(Math.min(e-t,n),0):0;i=e>t?Math.min(e+t-(this.options.midRange%2>0?1:0),this._numPages):Math.min(this.options.midRange,this._numPages);return{start:r,end:i}},updateBtns:function(e,t){if(t===1){e.first.addClass("jp-disabled");e.previous.addClass("jp-disabled")}if(t===this._numPages){e.next.addClass("jp-disabled");e.last.addClass("jp-disabled")}if(this._currentPageNum===1&&t>1){e.first.removeClass("jp-disabled");e.previous.removeClass("jp-disabled")}if(this._currentPageNum===this._numPages&&t<this._numPages){e.next.removeClass("jp-disabled");e.last.removeClass("jp-disabled")}},updateCurrentPage:function(e,t){e.currentPage.removeClass("jp-current");e.currentPage=e.pages.eq(t-1).addClass("jp-current")},updatePagesShowing:function(e,t){var n=e.pages.slice(t.start,t.end).not(e.permPages);e.pagesShowing.not(n).addClass("jp-hidden");n.not(e.pagesShowing).removeClass("jp-hidden");e.pagesShowing=n},updateBreaks:function(e,t){t.start>this.options.startRange||this.options.startRange===0&&t.start>0?e.fstBreak.removeClass("jp-hidden"):e.fstBreak.addClass("jp-hidden");t.end<this._numPages-this.options.endRange?e.lstBreak.removeClass("jp-hidden"):e.lstBreak.addClass("jp-hidden")},callback:function(e,t,n){var r={current:e,interval:n,count:this._numPages},i={showing:this._itemsShowing,oncoming:this._items.slice(t.start+this.options.perPage,t.end+this.options.perPage),range:t,count:this._items.length};r.interval.start=r.interval.start+1;i.range.start=i.range.start+1;this.options.callback(r,i)},updatePause:function(){if(this.options.pause&&this._numPages>1){clearTimeout(this._pause);if(this.options.clickStop&&this._clicked)return;this._pause=setTimeout(this.bind(function(){this.paginate(this._currentPageNum!==this._numPages?this._currentPageNum+1:1)},this),this.options.pause)}},setMinHeight:function(){this.options.minHeight&&!this._container.is("table, tbody")&&setTimeout(this.bind(function(){this._container.css({"min-height":this._container.css("height")})},this),1e3)},bind:function(e,t){return function(){return e.apply(t,arguments)}},destroy:function(){this.jQdocument.unbind("keydown.jPages");this._container.unbind("mousewheel.jPages DOMMouseScroll.jPages");this.options.minHeight&&this._container.css("min-height","");this._cssAnimSupport&&this.options.animation.length?this._items.removeClass("animated jp-hidden jp-invisible "+this.options.animation):this._items.removeClass("jp-hidden").fadeTo(0,1);this._holder.unbind("click.jPages").empty()}};e.fn[i]=function(t){var n=e.type(t);if(n==="object"){if(this.length&&!e.data(this,i)){s=new u(this,t);this.each(function(){e.data(this,i,s)})}return this}if(n==="string"&&t==="destroy"){s.destroy();this.each(function(){e.removeData(this,i)});return this}if(n==="number"&&t%1===0){s.validNewPage(t)&&s.paginate(t);return this}return this}})(jQuery,window,document);(function(e,t,n,r){var i=e(t);e.fn.lazyload=function(n){function a(){var t=0;s.each(function(){var n=e(this);if(u.skip_invisible&&!n.is(":visible"))return;if(!e.abovethetop(this,u)&&!e.leftofbegin(this,u))if(!e.belowthefold(this,u)&&!e.rightoffold(this,u)){n.trigger("appear");t=0}else if(++t>u.failure_limit)return!1})}var s=this,o,u={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null};if(n){if(r!==n.failurelimit){n.failure_limit=n.failurelimit;delete n.failurelimit}if(r!==n.effectspeed){n.effect_speed=n.effectspeed;delete n.effectspeed}e.extend(u,n)}o=u.container===r||u.container===t?i:e(u.container);0===u.event.indexOf("scroll")&&o.bind(u.event,function(e){return a()});this.each(function(){var t=this,n=e(t);t.loaded=!1;n.one("appear",function(){if(!this.loaded){if(u.appear){var r=s.length;u.appear.call(t,r,u)}e("<img />").bind("load",function(){n.hide().attr("src",n.data(u.data_attribute))[u.effect](u.effect_speed);t.loaded=!0;var r=e.grep(s,function(e){return!e.loaded});s=e(r);if(u.load){var i=s.length;u.load.call(t,i,u)}}).attr("src",n.data(u.data_attribute))}});0!==u.event.indexOf("scroll")&&n.bind(u.event,function(e){t.loaded||n.trigger("appear")})});i.bind("resize",function(e){a()});/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(t){t.originalEvent.persisted&&s.each(function(){e(this).trigger("appear")})});e(t).load(function(){a()});return this};e.belowthefold=function(n,s){var o;s.container===r||s.container===t?o=i.height()+i.scrollTop():o=e(s.container).offset().top+e(s.container).height();return o<=e(n).offset().top-s.threshold};e.rightoffold=function(n,s){var o;s.container===r||s.container===t?o=i.width()+i.scrollLeft():o=e(s.container).offset().left+e(s.container).width();return o<=e(n).offset().left-s.threshold};e.abovethetop=function(n,s){var o;s.container===r||s.container===t?o=i.scrollTop():o=e(s.container).offset().top;return o>=e(n).offset().top+s.threshold+e(n).height()};e.leftofbegin=function(n,s){var o;s.container===r||s.container===t?o=i.scrollLeft():o=e(s.container).offset().left;return o>=e(n).offset().left+s.threshold+e(n).width()};e.inviewport=function(t,n){return!e.rightoffold(t,n)&&!e.leftofbegin(t,n)&&!e.belowthefold(t,n)&&!e.abovethetop(t,n)};e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})})(jQuery,window,document);(function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null},r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];r.className="fit-vids-style";r.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>"
;i.parentNode.insertBefore(r,i);t&&e.extend(n,t);return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.youtube-nocookie.com']","iframe[src*='www.kickstarter.com']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));r.each(function(){var t=e(this);if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)return;var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=n/r;if(!t.attr("id")){var s="fitvid"+Math.floor(Math.random()*999999);t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",i*100+"%");t.removeAttr("height").removeAttr("width")})})}})(jQuery);(function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null},r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];r.className="fit-vids-style";r.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";i.parentNode.insertBefore(r,i);t&&e.extend(n,t);return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.youtube-nocookie.com']","iframe[src*='www.kickstarter.com']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));r.each(function(){var t=e(this);if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)return;var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=n/r;if(!t.attr("id")){var s="fitvid"+Math.floor(Math.random()*999999);t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",i*100+"%");t.removeAttr("height").removeAttr("width")})})}})(jQuery);(function(e){"use strict";e.picturefill=function(){var t=e.document.getElementsByTagName("div");for(var n=0,r=t.length;n<r;n++)if(t[n].getAttribute("data-picture")!==null){var i=t[n].getElementsByTagName("div"),s=[];for(var o=0,u=i.length;o<u;o++){var a=i[o].getAttribute("data-media");(!a||e.matchMedia&&e.matchMedia(a).matches)&&s.push(i[o])}var f=t[n].getElementsByTagName("img")[0];if(s.length){if(!f){f=e.document.createElement("img");f.alt=t[n].getAttribute("data-alt");t[n].appendChild(f)}f.src=s.pop().getAttribute("data-src")}else f&&t[n].removeChild(f)}};if(e.addEventListener){e.addEventListener("resize",e.picturefill,!1);e.addEventListener("DOMContentLoaded",function(){e.picturefill();e.removeEventListener("load",e.picturefill,!1)},!1);e.addEventListener("load",e.picturefill,!1)}else e.attachEvent&&e.attachEvent("onload",e.picturefill)})(this);$(function(){$("a[href$='.jpg'],a[href$='.png'],a[href$='.gif']").attr("rel","gallery").fancybox({beforeShow:function(){this.title&&(this.title=""+this.title+'<br /><a class="pin-it-button" href="http://pinterest.com/pin/create/button/?url='+encodeURIComponent(document.location.href)+"&media="+encodeURIComponent(this.href)+"&description="+encodeURIComponent(this.title)+'">'+'<img title="Pin It" src="http://assets.pinterest.com/images/PinExt.png" alt="" border="0" /></a> <a href="https://twitter.com/share" class="twitter-share-button" data-count="none" data-text="'+this.title+'" data-hashtags="PaperFaces" data-via="mmistakes" data-url="'+this.href+'">Tweet</a>')},afterShow:function(){twttr.widgets.load()},padding:0,openEffect:"elastic",closeEffect:"elastic",overlay:{css:{background:"rgba(0,0,0,0.5)"}},helpers:{title:{type:"outside"}}})});$(function(){$("img.lazy").show().lazyload({event:"turnPage",effect:"fadeIn"});$("div.holder").jPages({containerID:"itemContainer",previous:"←",next:"→",perPage:30,midRange:3,direction:"random",minHeight:!1,callback:function(e,t){t.showing.find("img").trigger("turnPage");t.oncoming.find("img").trigger("turnPage")}})});$(function(){$("article").fitVids()});$(function(){$(".toc h1").click(function(){$("#drawer").toggleClass("hidden")})});