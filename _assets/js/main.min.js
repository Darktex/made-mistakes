/*!
 * fancyBox - jQuery Plugin
 * version: 2.0.6 (16/04/2012)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(i,k,g,d){var c=g(i),a=g(k),l=g.fancybox=function(){l.open.apply(this,arguments)},m=false,h=null,e=k.createTouch!==d,b=function(n){return g.type(n)==="string"},j=function(n){return b(n)&&n.indexOf("%")>0},f=function(n,o){if(o&&j(n)){n=l.getViewport()[o]/100*parseInt(n,10)}return Math.round(n)+"px"};g.extend(l,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:true,autoResize:!e,autoCenter:!e,fitToView:true,aspectRatio:false,topRatio:0.5,fixed:false,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(g.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:true},title:{type:"float"}},onCancel:g.noop,beforeLoad:g.noop,afterLoad:g.noop,beforeShow:g.noop,afterShow:g.noop,beforeClose:g.noop,afterClose:g.noop},group:{},opts:{},coming:null,current:null,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(o,n){l.close(true);if(o&&!g.isArray(o)){o=o instanceof g?g(o).get():[o]}l.isActive=true;l.opts=g.extend(true,{},l.defaults,n);if(g.isPlainObject(n)&&n.keys!==d){l.opts.keys=n.keys?g.extend({},l.defaults.keys,n.keys):false}l.group=o;l._start(l.opts.index||0)},cancel:function(){if(l.coming&&false===l.trigger("onCancel")){return}l.coming=null;l.hideLoading();if(l.ajaxLoad){l.ajaxLoad.abort()}l.ajaxLoad=null;if(l.imgPreload){l.imgPreload.onload=l.imgPreload.onabort=l.imgPreload.onerror=null}},close:function(n){l.cancel();if(!l.current||false===l.trigger("beforeClose")){return}l.unbindEvents();if(!l.isOpen||(n&&n[0]===true)){g(".fancybox-wrap").stop().trigger("onReset").remove();l._afterZoomOut()}else{l.isOpen=l.isOpened=false;g(".fancybox-item, .fancybox-nav").remove();l.wrap.stop(true).removeClass("fancybox-opened");l.inner.css("overflow","hidden");l.transitions[l.current.closeMethod]()}},play:function(o){var n=function(){clearTimeout(l.player.timer)},r=function(){n();if(l.current&&l.player.isActive){l.player.timer=setTimeout(l.next,l.current.playSpeed)}},p=function(){n();g("body").unbind(".player");l.player.isActive=false;l.trigger("onPlayEnd")},q=function(){if(l.current&&(l.current.loop||l.current.index<l.group.length-1)){l.player.isActive=true;g("body").bind({"afterShow.player onUpdate.player":r,"onCancel.player beforeClose.player":p,"beforeLoad.player":n});r();l.trigger("onPlayStart")}};if(l.player.isActive||(o&&o[0]===false)){p()}else{q()}},next:function(){if(l.current){l.jumpto(l.current.index+1)}},prev:function(){if(l.current){l.jumpto(l.current.index-1)}},jumpto:function(n){if(!l.current){return}n=parseInt(n,10);if(l.group.length>1&&l.current.loop){if(n>=l.group.length){n=0}else{if(n<0){n=l.group.length-1}}}if(l.group[n]!==d){l.cancel();l._start(n)}},reposition:function(o,n){var p;if(l.isOpen){p=l._getPosition(n);if(o&&o.type==="scroll"){delete p.position;l.wrap.stop(true,true).animate(p,200)}else{l.wrap.css(p)}}},update:function(n){if(!l.isOpen){return}if(!m){h=setTimeout(function(){var p=l.current,o=!n||(n&&n.type==="orientationchange");if(m){m=false;if(!p){return}if((!n||n.type!=="scroll")||o){if(p.autoSize&&p.type!=="iframe"){l.inner.height("auto");p.height=l.inner.height()}if(p.autoResize||o){l._setDimension()}if(p.canGrow&&p.type!=="iframe"){l.inner.height("auto")}}if(p.autoCenter||o){l.reposition(n)}l.trigger("onUpdate")}},200)}m=true},toggle:function(){if(l.isOpen){l.current.fitToView=!l.current.fitToView;l.update()}},hideLoading:function(){a.unbind("keypress.fb");g("#fancybox-loading").remove()},showLoading:function(){l.hideLoading();a.bind("keypress.fb",function(n){if(n.keyCode===27){n.preventDefault();l.cancel()}});g('<div id="fancybox-loading"><div></div></div>').click(l.cancel).appendTo("body")},getViewport:function(){return{x:c.scrollLeft(),y:c.scrollTop(),w:e&&i.innerWidth?i.innerWidth:c.width(),h:e&&i.innerHeight?i.innerHeight:c.height()}},unbindEvents:function(){if(l.wrap){l.wrap.unbind(".fb")}a.unbind(".fb");c.unbind(".fb")},bindEvents:function(){var o=l.current,n=o.keys;if(!o){return}c.bind("resize.fb orientationchange.fb"+(o.autoCenter&&!o.fixed?" scroll.fb":""),l.update);if(n){a.bind("keydown.fb",function(r){var p,q=r.target||r.srcElement;if(!r.ctrlKey&&!r.altKey&&!r.shiftKey&&!r.metaKey&&!(q&&(q.type||g(q).is("[contenteditable]")))){p=r.keyCode;if(g.inArray(p,n.close)>-1){l.close();r.preventDefault()}else{if(g.inArray(p,n.next)>-1){l.next();r.preventDefault()}else{if(g.inArray(p,n.prev)>-1){l.prev();r.preventDefault()}}}}})}if(g.fn.mousewheel&&o.mouseWheel&&l.group.length>1){l.wrap.bind("mousewheel.fb",function(q,r){var p=q.target||null;if(r!==0&&(!p||p.clientHeight===0||(p.scrollHeight===p.clientHeight&&p.scrollWidth===p.clientWidth))){q.preventDefault();l[r>0?"prev":"next"]()}})}},trigger:function(p,r){var n,q=r||l[g.inArray(p,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(!q){return}if(g.isFunction(q[p])){n=q[p].apply(q,Array.prototype.slice.call(arguments,1))}if(n===false){return false}if(q.helpers){g.each(q.helpers,function(s,o){if(o&&g.isPlainObject(l.helpers[s])&&g.isFunction(l.helpers[s][p])){l.helpers[s][p](o,q)}})}g.event.trigger(p+".fb")},isImage:function(n){return b(n)&&n.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(n){return b(n)&&n.match(/\.(swf)((\?|#).*)?$/i)},_start:function(o){var r={},q=l.group[o]||null,p,n,s,t,u;if(q&&(q.nodeType||q instanceof g)){p=true;if(g.metadata){r=g(q).metadata()}}r=g.extend(true,{},l.opts,{index:o,element:q},(g.isPlainObject(q)?q:r));g.each(["href","title","content","type"],function(x,w){r[w]=l.opts[w]||(p&&g(q).attr(w))||r[w]||null});if(typeof r.margin==="number"){r.margin=[r.margin,r.margin,r.margin,r.margin]}if(r.modal){g.extend(true,r,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:false}}})}l.coming=r;if(false===l.trigger("beforeLoad")){l.coming=null;return}s=r.type;n=r.href||q;if(!s){if(p){s=g(q).data("fancybox-type");if(!s){t=q.className.match(/fancybox\.(\w+)/);s=t?t[1]:null}}if(!s&&b(n)){if(l.isImage(n)){s="image"}else{if(l.isSWF(n)){s="swf"}else{if(n.match(/^#/)){s="inline"}}}}if(!s){s=p?"inline":"html"}r.type=s}if(s==="inline"||s==="html"){if(!r.content){if(s==="inline"){r.content=g(b(n)?n.replace(/.*(?=#[^\s]+$)/,""):n)}else{r.content=q}}if(!r.content||!r.content.length){s=null}}else{if(!n){s=null}}if(s==="ajax"&&b(n)){u=n.split(/\s+/,2);n=u.shift();r.selector=u.shift()}r.href=n;r.group=l.group;r.isDom=p;switch(s){case"image":l._loadImage();break;case"ajax":l._loadAjax();break;case"inline":case"iframe":case"swf":case"html":l._afterLoad();break;default:l._error("type")}},_error:function(n){l.hideLoading();g.extend(l.coming,{type:"html",autoSize:true,minWidth:0,minHeight:0,padding:15,hasError:n,content:l.coming.tpl.error});l._afterLoad()},_loadImage:function(){var n=l.imgPreload=new Image();n.onload=function(){this.onload=this.onerror=null;l.coming.width=this.width;l.coming.height=this.height;l._afterLoad()};n.onerror=function(){this.onload=this.onerror=null;l._error("image")};n.src=l.coming.href;if(n.complete===d||!n.complete){l.showLoading()}},_loadAjax:function(){l.showLoading();l.ajaxLoad=g.ajax(g.extend({},l.coming.ajax,{url:l.coming.href,error:function(n,o){if(l.coming&&o!=="abort"){l._error("ajax",n)}else{l.hideLoading()}},success:function(n,o){if(o==="success"){l.coming.content=n;l._afterLoad()}}}))},_preloadImages:function(){var t=l.group,s=l.current,n=t.length,r,o,q,p=Math.min(s.preload,n-1);if(!s.preload||t.length<2){return}for(q=1;q<=p;q+=1){r=t[(s.index+q)%n];o=r.href||g(r).attr("href")||r;if(r.type==="image"||l.isImage(o)){new Image().src=o}}},_afterLoad:function(){l.hideLoading();if(!l.coming||false===l.trigger("afterLoad",l.current)){l.coming=false;return}if(l.isOpened){g(".fancybox-item, .fancybox-nav").remove();l.wrap.stop(true).removeClass("fancybox-opened");l.inner.css("overflow","hidden");l.transitions[l.current.prevMethod]()}else{g(".fancybox-wrap").stop().trigger("onReset").remove();l.trigger("afterClose")}l.unbindEvents();l.isOpen=false;l.current=l.coming;l.wrap=g(l.current.tpl.wrap).addClass("fancybox-"+(e?"mobile":"desktop")+" fancybox-type-"+l.current.type+" fancybox-tmp "+l.current.wrapCSS).appendTo("body");l.skin=g(".fancybox-skin",l.wrap).css("padding",f(l.current.padding));l.outer=g(".fancybox-outer",l.wrap);l.inner=g(".fancybox-inner",l.wrap);l._setContent()},_setContent:function(){var u=l.current,r=u.content,o=u.type,n=u.minWidth,t=u.minHeight,q=u.maxWidth,p=u.maxHeight,s;switch(o){case"inline":case"ajax":case"html":if(u.selector){r=g("<div>").html(r).find(u.selector)}else{if(r instanceof g){if(r.parent().hasClass("fancybox-inner")){r.parents(".fancybox-wrap").unbind("onReset")}r=r.show().detach();g(l.wrap).bind("onReset",function(){r.appendTo("body").hide()})}}if(u.autoSize){s=g('<div class="fancybox-wrap '+l.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:f(n,"w"),minHeight:f(t,"h"),maxWidth:f(q,"w"),maxHeight:f(p,"h")}).append(r);u.width=s.width();u.height=s.height();s.width(l.current.width);if(s.height()>u.height){s.width(u.width+1);u.width=s.width();u.height=s.height()}r=s.contents().detach();s.remove()}break;case"image":r=u.tpl.image.replace("{href}",u.href);u.aspectRatio=true;break;case"swf":r=u.tpl.swf.replace(/\{width\}/g,u.width).replace(/\{height\}/g,u.height).replace(/\{href\}/g,u.href);break;case"iframe":r=g(u.tpl.iframe.replace("{rnd}",new Date().getTime())).attr("scrolling",u.scrolling).attr("src",u.href);u.scrolling=e?"scroll":"auto";break}if(o==="image"||o==="swf"){u.autoSize=false;u.scrolling="visible"}if(o==="iframe"&&u.autoSize){l.showLoading();l._setDimension();l.inner.css("overflow",u.scrolling);r.bind({onCancel:function(){g(this).unbind();l._afterZoomOut()},load:function(){l.hideLoading();try{if(this.contentWindow.document.location){l.current.height=g(this).contents().find("body").height()}}catch(v){l.current.autoSize=false}l[l.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(l.inner)}else{l.inner.append(r);l._beforeShow()}},_beforeShow:function(){l.coming=null;l.trigger("beforeShow");l._setDimension();l.wrap.hide().removeClass("fancybox-tmp");l.bindEvents();l._preloadImages();l.transitions[l.isOpened?l.current.nextMethod:l.current.openMethod]()},_setDimension:function(){var p=l.wrap,A=l.inner,t=l.current,u=l.getViewport(),r=t.margin,n=t.padding*2,q=t.width,z=t.height,x=t.maxWidth+n,w=t.maxHeight+n,o=t.minWidth+n,y=t.minHeight+n,v,s;u.w-=(r[1]+r[3]);u.h-=(r[0]+r[2]);if(j(q)){q=(((u.w-n)*parseFloat(q))/100)}if(j(z)){z=(((u.h-n)*parseFloat(z))/100)}v=q/z;q+=n;z+=n;if(t.fitToView){x=Math.min(u.w,x);w=Math.min(u.h,w)}if(t.aspectRatio){if(q>x){q=x;z=((q-n)/v)+n}if(z>w){z=w;q=((z-n)*v)+n}if(q<o){q=o;z=((q-n)/v)+n}if(z<y){z=y;q=((z-n)*v)+n}}else{q=Math.max(o,Math.min(q,x));z=Math.max(y,Math.min(z,w))}q=Math.round(q);z=Math.round(z);g(p.add(A)).width("auto").height("auto");A.width(q-n).height(z-n);p.width(q);s=p.height();if(q>x||s>w){while((q>x||s>w)&&q>o&&s>y){z=z-10;if(t.aspectRatio){q=Math.round(((z-n)*v)+n);if(q<o){q=o;z=((q-n)/v)+n}}else{q=q-10}A.width(q-n).height(z-n);p.width(q);s=p.height()}}t.dim={width:f(q),height:f(s)};t.canGrow=t.autoSize&&z>y&&z<w;t.canShrink=false;t.canExpand=false;if((q-n)<t.width||(z-n)<t.height){t.canExpand=true}else{if((q>u.w||s>u.h)&&q>o&&z>y){t.canShrink=true}}l.innerSpace=s-n-A.height()},_getPosition:function(p){var t=l.current,o=l.getViewport(),r=t.margin,q=l.wrap.width()+r[1]+r[3],n=l.wrap.height()+r[0]+r[2],s={position:"absolute",top:r[0]+o.y,left:r[3]+o.x};if(t.autoCenter&&t.fixed&&!p&&n<=o.h&&q<=o.w){s={position:"fixed",top:r[0],left:r[3]}}s.top=f(Math.max(s.top,s.top+((o.h-n)*t.topRatio)));s.left=f(Math.max(s.left,s.left+((o.w-q)*0.5)));return s},_afterZoomIn:function(){var o=l.current,n=o?o.scrolling:"no";if(!o){return}l.isOpen=l.isOpened=true;l.wrap.addClass("fancybox-opened");l.inner.css("overflow",n==="yes"?"scroll":(n==="no"?"hidden":n));l.trigger("afterShow");l.update();if(o.closeClick||o.nextClick){l.inner.css("cursor","pointer").bind("click.fb",function(p){if(!g(p.target).is("a")&&!g(p.target).parent().is("a")){l[o.closeClick?"close":"next"]()}})}if(o.closeBtn){g(o.tpl.closeBtn).appendTo(l.skin).bind("click.fb",l.close)}if(o.arrows&&l.group.length>1){if(o.loop||o.index>0){g(o.tpl.prev).appendTo(l.outer).bind("click.fb",l.prev)}if(o.loop||o.index<l.group.length-1){g(o.tpl.next).appendTo(l.outer).bind("click.fb",l.next)}}if(l.opts.autoPlay&&!l.player.isActive){l.opts.autoPlay=false;l.play()}},_afterZoomOut:function(){var n=l.current;l.wrap.trigger("onReset").remove();g.extend(l,{group:{},opts:{},current:null,isActive:false,isOpened:false,isOpen:false,wrap:null,skin:null,outer:null,inner:null});l.trigger("afterClose",n)}});l.transitions={getOrigPosition:function(){var s=l.current,p=s.element,r=s.padding,u=g(s.orig),t={},q=50,o=50,n;if(!u.length&&s.isDom&&g(p).is(":visible")){u=g(p).find("img:first");if(!u.length){u=g(p)}}if(u.length){t=u.offset();if(u.is("img")){q=u.outerWidth();o=u.outerHeight()}}else{n=l.getViewport();t.top=n.y+(n.h-o)*0.5;t.left=n.x+(n.w-q)*0.5}t={top:f(t.top-r),left:f(t.left-r),width:f(q+r*2),height:f(o+r*2)};return t},step:function(n,p){var r=p.prop,q,o;if(r==="width"||r==="height"){q=Math.ceil(n-(l.current.padding*2));if(r==="height"){o=(n-p.start)/(p.end-p.start);if(p.start>p.end){o=1-o}q-=l.innerSpace*o}l.inner[r](q)}},zoomIn:function(){var q=l.wrap,t=l.current,p=t.openEffect,s=p==="elastic",r=t.dim,o=g.extend({},r,l._getPosition(s)),n=g.extend({opacity:1},o);delete n.position;if(s){o=this.getOrigPosition();if(t.openOpacity){o.opacity=0}l.outer.add(l.inner).width("auto").height("auto")}else{if(p==="fade"){o.opacity=0}}q.css(o).show().animate(n,{duration:p==="none"?0:t.openSpeed,easing:t.openEasing,step:s?this.step:null,complete:l._afterZoomIn})},zoomOut:function(){var p=l.wrap,r=l.current,o=r.openEffect,q=o==="elastic",n={opacity:0};if(q){if(p.css("position")==="fixed"){p.css(l._getPosition(true))}n=this.getOrigPosition();if(r.closeOpacity){n.opacity=0}}p.animate(n,{duration:o==="none"?0:r.closeSpeed,easing:r.closeEasing,step:q?this.step:null,complete:l._afterZoomOut})},changeIn:function(){var q=l.wrap,s=l.current,p=s.nextEffect,r=p==="elastic",o=l._getPosition(r),n={opacity:1};o.opacity=0;if(r){o.top=f(parseInt(o.top,10)-200);n.top="+=200px"}q.css(o).show().animate(n,{duration:p==="none"?0:s.nextSpeed,easing:s.nextEasing,complete:l._afterZoomIn})},changeOut:function(){var p=l.wrap,r=l.current,o=r.prevEffect,n={opacity:0},q=function(){g(this).trigger("onReset").remove()};p.removeClass("fancybox-opened");if(o==="elastic"){n.top="+=200px"}p.animate(n,{duration:o==="none"?0:r.prevSpeed,easing:r.prevEasing,complete:q})}};l.helpers.overlay={overlay:null,update:function(){var p,n,o;this.overlay.width("100%").height("100%");if(g.browser.msie||e){n=Math.max(k.documentElement.scrollWidth,k.body.scrollWidth);o=Math.max(k.documentElement.offsetWidth,k.body.offsetWidth);p=n<o?c.width():n}else{p=a.width()}this.overlay.width(p).height(a.height())},beforeShow:function(n){if(this.overlay){return}n=g.extend(true,{},l.defaults.helpers.overlay,n);this.overlay=g('<div id="fancybox-overlay"></div>').css(n.css).appendTo("body");if(n.closeClick){this.overlay.bind("click.fb",l.close)}if(l.current.fixed&&!e){this.overlay.addClass("overlay-fixed")}else{this.update();this.onUpdate=function(){this.update()}}this.overlay.fadeTo(n.speedIn,n.opacity)},afterClose:function(n){if(this.overlay){this.overlay.fadeOut(n.speedOut||0,function(){g(this).remove()})}this.overlay=null}};l.helpers.title={beforeShow:function(n){var p,o=l.current.title;if(o){p=g('<div class="fancybox-title fancybox-title-'+n.type+'-wrap">'+o+"</div>").appendTo("body");if(n.type==="float"){p.width(p.width());p.wrapInner('<span class="child"></span>');l.current.margin[2]+=Math.abs(parseInt(p.css("margin-bottom"),10))}p.appendTo(n.type==="over"?l.inner:(n.type==="outside"?l.wrap:l.skin))}}};g.fn.fancybox=function(p){var q=g(this),n=this.selector||"",o,r=function(v){var u=this,s=o,t,w;if(!(v.ctrlKey||v.altKey||v.shiftKey||v.metaKey)&&!g(u).is(".fancybox-wrap")){v.preventDefault();t=p.groupAttr||"data-fancybox-group";w=g(u).attr(t);if(!w){t="rel";w=u[t]}if(w&&w!==""&&w!=="nofollow"){u=n.length?g(n):q;u=u.filter("["+t+'="'+w+'"]');s=u.index(this)}p.index=s;l.open(u,p)}};p=p||{};o=p.index||0;if(n){a.undelegate(n,"click.fb-start").delegate(n,"click.fb-start",r)}else{q.unbind("click.fb-start").bind("click.fb-start",r)}return this};g(k).ready(function(){l.defaults.fixed=g.support.fixedPosition||(!(g.browser.msie&&g.browser.version<=6)&&!e)})}(window,document,jQuery));
/*!
 * jQuery jPages v0.7
 * Client side pagination with jQuery
 * http://luis-almeida.github.com/jPages
 *
 * Licensed under the MIT license.
 * Copyright 2012 Luís Almeida
 * https://github.com/luis-almeida
 *
 */
(function(f,e,b,h){var c="jPages",a=null,g={containerID:"",first:false,previous:"← previous",next:"next →",last:false,links:"numeric",startPage:1,perPage:10,midRange:5,startRange:1,endRange:1,keyBrowse:false,scrollBrowse:false,pause:0,clickStop:false,delay:50,direction:"forward",animation:"",fallback:400,minHeight:true,callback:h};function d(j,i){this.options=f.extend({},g,i);this._container=f("#"+this.options.containerID);if(!this._container.length){return}this.jQwindow=f(e);this.jQdocument=f(b);this._holder=f(j);this._nav={};this._first=f(this.options.first);this._previous=f(this.options.previous);this._next=f(this.options.next);this._last=f(this.options.last);this._items=this._container.children(":visible");this._itemsShowing=f([]);this._itemsHiding=f([]);this._numPages=Math.ceil(this._items.length/this.options.perPage);this._currentPageNum=this.options.startPage;this._clicked=false;this._cssAnimSupport=this.getCSSAnimationSupport();this.init()}d.prototype={constructor:d,getCSSAnimationSupport:function(){var m=false,o="animation",l="",k="Webkit Moz O ms Khtml".split(" "),n="",p=this._container.get(0);if(p.style.animationName){m=true}if(m===false){for(var j=0;j<k.length;j++){if(p.style[k[j]+"AnimationName"]!==h){n=k[j];o=n+"Animation";l="-"+n.toLowerCase()+"-";m=true;break}}}return m},init:function(){this.setStyles();this.setNav();this.paginate(this._currentPageNum);this.setMinHeight()},setStyles:function(){var i="<style>.jp-invisible { visibility: hidden !important; } .jp-hidden { display: none !important; }</style>";f(i).appendTo("head");if(this._cssAnimSupport&&this.options.animation.length){this._items.addClass("animated jp-hidden")}else{this._items.hide()}},setNav:function(){var i=this.writeNav();this._holder.each(this.bind(function(j,l){var k=f(l);k.html(i);this.cacheNavElements(k,j);this.bindNavHandlers(j);this.disableNavSelection(l)},this));if(this.options.keyBrowse){this.bindNavKeyBrowse()}if(this.options.scrollBrowse){this.bindNavScrollBrowse()}},writeNav:function(){var k=1,j;j=this.writeBtn("first")+this.writeBtn("previous");for(;k<=this._numPages;k++){if(k===1&&this.options.startRange===0){j+="<span>...</span>"}if(k>this.options.startRange&&k<=this._numPages-this.options.endRange){j+="<a href='#' class='jp-hidden'>"}else{j+="<a>"}switch(this.options.links){case"numeric":j+=k;break;case"blank":break;case"title":var l=this._items.eq(k-1).attr("data-title");j+=l!==h?l:"";break}j+="</a>";if(k===this.options.startRange||k===this._numPages-this.options.endRange){j+="<span>...</span>"}}j+=this.writeBtn("next")+this.writeBtn("last")+"</div>";return j},writeBtn:function(i){return this.options[i]!==false&&!f(this["_"+i]).length?"<a class='jp-"+i+"'>"+this.options[i]+"</a>":""},cacheNavElements:function(j,i){this._nav[i]={};this._nav[i].holder=j;this._nav[i].first=this._first.length?this._first:this._nav[i].holder.find("a.jp-first");this._nav[i].previous=this._previous.length?this._previous:this._nav[i].holder.find("a.jp-previous");this._nav[i].next=this._next.length?this._next:this._nav[i].holder.find("a.jp-next");this._nav[i].last=this._last.length?this._last:this._nav[i].holder.find("a.jp-last");this._nav[i].fstBreak=this._nav[i].holder.find("span:first");this._nav[i].lstBreak=this._nav[i].holder.find("span:last");this._nav[i].pages=this._nav[i].holder.find("a").not(".jp-first, .jp-previous, .jp-next, .jp-last");this._nav[i].permPages=this._nav[i].pages.slice(0,this.options.startRange).add(this._nav[i].pages.slice(this._numPages-this.options.endRange,this._numPages));this._nav[i].pagesShowing=f([]);this._nav[i].currentPage=f([])},bindNavHandlers:function(i){var j=this._nav[i];j.holder.bind("click.jPages",this.bind(function(k){var l=this.getNewPage(j,f(k.target));if(this.validNewPage(l)){this._clicked=true;this.paginate(l)}k.preventDefault()},this));if(this._first.length){this._first.bind("click.jPages",this.bind(function(){if(this.validNewPage(1)){this._clicked=true;this.paginate(1)}},this))}if(this._previous.length){this._previous.bind("click.jPages",this.bind(function(){var k=this._currentPageNum-1;if(this.validNewPage(k)){this._clicked=true;this.paginate(k)}},this))}if(this._next.length){this._next.bind("click.jPages",this.bind(function(){var k=this._currentPageNum+1;if(this.validNewPage(k)){this._clicked=true;this.paginate(k)}},this))}if(this._last.length){this._last.bind("click.jPages",this.bind(function(){if(this.validNewPage(this._numPages)){this._clicked=true;this.paginate(this._numPages)}},this))}},disableNavSelection:function(i){if(typeof i.onselectstart!="undefined"){i.onselectstart=function(){return false}}else{if(typeof i.style.MozUserSelect!="undefined"){i.style.MozUserSelect="none"}else{i.onmousedown=function(){return false}}}},bindNavKeyBrowse:function(){this.jQdocument.bind("keydown.jPages",this.bind(function(i){var k=i.target.nodeName.toLowerCase();if(this.elemScrolledIntoView()&&k!=="input"&&k!="textarea"){var j=this._currentPageNum;if(i.which==37){j=this._currentPageNum-1}if(i.which==39){j=this._currentPageNum+1}if(this.validNewPage(j)){this._clicked=true;this.paginate(j)}}},this))},elemScrolledIntoView:function(){var l,k,i,j;l=this.jQwindow.scrollTop();k=l+this.jQwindow.height();i=this._container.offset().top;j=i+this._container.height();return((j>=l)&&(i<=k))},bindNavScrollBrowse:function(){this._container.bind("mousewheel.jPages DOMMouseScroll.jPages",this.bind(function(i){var j=(i.originalEvent.wheelDelta||-i.originalEvent.detail)>0?(this._currentPageNum-1):(this._currentPageNum+1);if(this.validNewPage(j)){this._clicked=true;this.paginate(j)}i.preventDefault();return false},this))},getNewPage:function(j,i){if(i.is(j.currentPage)){return this._currentPageNum}if(i.is(j.pages)){return j.pages.index(i)+1}if(i.is(j.first)){return 1}if(i.is(j.last)){return this._numPages}if(i.is(j.previous)){return j.pages.index(j.currentPage)}if(i.is(j.next)){return j.pages.index(j.currentPage)+2}},validNewPage:function(i){return i!==this._currentPageNum&&i>0&&i<=this._numPages},paginate:function(j){var i,k;i=this.updateItems(j);k=this.updatePages(j);this._currentPageNum=j;if(f.isFunction(this.options.callback)){this.callback(j,i,k)}this.updatePause()},updateItems:function(j){var i=this.getItemRange(j);this._itemsHiding=this._itemsShowing;this._itemsShowing=this._items.slice(i.start,i.end);if(this._cssAnimSupport&&this.options.animation.length){this.cssAnimations(j)}else{this.jQAnimations(j)}return i},getItemRange:function(j){var i={};i.start=(j-1)*this.options.perPage;i.end=i.start+this.options.perPage;if(i.end>this._items.length){i.end=this._items.length}return i},cssAnimations:function(i){clearInterval(this._delay);this._itemsHiding.removeClass(this.options.animation+" jp-invisible").addClass("jp-hidden");this._itemsShowing.removeClass("jp-hidden").addClass("jp-invisible");this._itemsOriented=this.getDirectedItems(i);this._index=0;this._delay=setInterval(this.bind(function(){if(this._index===this._itemsOriented.length){clearInterval(this._delay)}else{this._itemsOriented.eq(this._index).removeClass("jp-invisible").addClass(this.options.animation)}this._index=this._index+1},this),this.options.delay)},jQAnimations:function(i){clearInterval(this._delay);this._itemsHiding.addClass("jp-hidden");this._itemsShowing.fadeTo(0,0).removeClass("jp-hidden");this._itemsOriented=this.getDirectedItems(i);this._index=0;this._delay=setInterval(this.bind(function(){if(this._index===this._itemsOriented.length){clearInterval(this._delay)}else{this._itemsOriented.eq(this._index).fadeTo(this.options.fallback,1)}this._index=this._index+1},this),this.options.delay)},getDirectedItems:function(i){var j;switch(this.options.direction){case"backwards":j=f(this._itemsShowing.get().reverse());break;case"random":j=f(this._itemsShowing.get().sort(function(){return(Math.round(Math.random())-0.5)}));break;case"auto":j=i>=this._currentPageNum?this._itemsShowing:f(this._itemsShowing.get().reverse());break;default:j=this._itemsShowing}return j},updatePages:function(k){var i,j,l;i=this.getInterval(k);for(j in this._nav){if(this._nav.hasOwnProperty(j)){l=this._nav[j];this.updateBtns(l,k);this.updateCurrentPage(l,k);this.updatePagesShowing(l,i);this.updateBreaks(l,i)}}return i},getInterval:function(l){var k,j,m,i;k=Math.ceil(this.options.midRange/2);j=this._numPages-this.options.midRange;m=l>k?Math.max(Math.min(l-k,j),0):0;i=l>k?Math.min(l+k-(this.options.midRange%2>0?1:0),this._numPages):Math.min(this.options.midRange,this._numPages);return{start:m,end:i}},updateBtns:function(j,i){if(i===1){j.first.addClass("jp-disabled");j.previous.addClass("jp-disabled")}if(i===this._numPages){j.next.addClass("jp-disabled");j.last.addClass("jp-disabled")}if(this._currentPageNum===1&&i>1){j.first.removeClass("jp-disabled");j.previous.removeClass("jp-disabled")}if(this._currentPageNum===this._numPages&&i<this._numPages){j.next.removeClass("jp-disabled");j.last.removeClass("jp-disabled")}},updateCurrentPage:function(j,i){j.currentPage.removeClass("jp-current");j.currentPage=j.pages.eq(i-1).addClass("jp-current")},updatePagesShowing:function(k,i){var j=k.pages.slice(i.start,i.end).not(k.permPages);k.pagesShowing.not(j).addClass("jp-hidden");j.not(k.pagesShowing).removeClass("jp-hidden");k.pagesShowing=j},updateBreaks:function(j,i){if(i.start>this.options.startRange||(this.options.startRange===0&&i.start>0)){j.fstBreak.removeClass("jp-hidden")}else{j.fstBreak.addClass("jp-hidden")}if(i.end<this._numPages-this.options.endRange){j.lstBreak.removeClass("jp-hidden")}else{j.lstBreak.addClass("jp-hidden")}},callback:function(l,k,m){var i={current:l,interval:m,count:this._numPages},j={showing:this._itemsShowing,oncoming:this._items.slice(k.start+this.options.perPage,k.end+this.options.perPage),range:k,count:this._items.length};i.interval.start=i.interval.start+1;j.range.start=j.range.start+1;this.options.callback(i,j)},updatePause:function(){if(this.options.pause&&this._numPages>1){clearTimeout(this._pause);if(this.options.clickStop&&this._clicked){return}else{this._pause=setTimeout(this.bind(function(){this.paginate(this._currentPageNum!==this._numPages?this._currentPageNum+1:1)},this),this.options.pause)}}},setMinHeight:function(){if(this.options.minHeight&&!this._container.is("table, tbody")){setTimeout(this.bind(function(){this._container.css({"min-height":this._container.css("height")})},this),1000)}},bind:function(i,j){return function(){return i.apply(j,arguments)}},destroy:function(){this.jQdocument.unbind("keydown.jPages");this._container.unbind("mousewheel.jPages DOMMouseScroll.jPages");if(this.options.minHeight){this._container.css("min-height","")}if(this._cssAnimSupport&&this.options.animation.length){this._items.removeClass("animated jp-hidden jp-invisible "+this.options.animation)}else{this._items.removeClass("jp-hidden").fadeTo(0,1)}this._holder.unbind("click.jPages").empty()}};f.fn[c]=function(i){var j=f.type(i);if(j==="object"){if(this.length&&!f.data(this,c)){a=new d(this,i);this.each(function(){f.data(this,c,a)})}return this}if(j==="string"&&i==="destroy"){a.destroy();this.each(function(){f.removeData(this,c)});return this}if(j==="number"&&i%1===0){if(a.validNewPage(i)){a.paginate(i)}return this}return this}})(jQuery,window,document);
/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2012 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.8.3
 *
 */
(function(c,b,a,e){var d=c(b);c.fn.lazyload=function(f){var h=this;var i;var g={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:true,appear:null,load:null};function j(){var k=0;h.each(function(){var l=c(this);if(g.skip_invisible&&!l.is(":visible")){return}if(c.abovethetop(this,g)||c.leftofbegin(this,g)){}else{if(!c.belowthefold(this,g)&&!c.rightoffold(this,g)){l.trigger("appear");k=0}else{if(++k>g.failure_limit){return false}}}})}if(f){if(e!==f.failurelimit){f.failure_limit=f.failurelimit;delete f.failurelimit}if(e!==f.effectspeed){f.effect_speed=f.effectspeed;delete f.effectspeed}c.extend(g,f)}i=(g.container===e||g.container===b)?d:c(g.container);if(0===g.event.indexOf("scroll")){i.bind(g.event,function(k){return j()})}this.each(function(){var k=this;var l=c(k);k.loaded=false;l.one("appear",function(){if(!this.loaded){if(g.appear){var m=h.length;g.appear.call(k,m,g)}c("<img />").bind("load",function(){l.hide().attr("src",l.data(g.data_attribute))[g.effect](g.effect_speed);k.loaded=true;var n=c.grep(h,function(p){return !p.loaded});h=c(n);if(g.load){var o=h.length;g.load.call(k,o,g)}}).attr("src",l.data(g.data_attribute))}});if(0!==g.event.indexOf("scroll")){l.bind(g.event,function(m){if(!k.loaded){l.trigger("appear")}})}});d.bind("resize",function(k){j()});if((/iphone|ipod|ipad.*os 5/gi).test(navigator.appVersion)){d.bind("pageshow",function(k){if(k.originalEvent.persisted){h.each(function(){c(this).trigger("appear")})}})}c(b).load(function(){j()});return this};c.belowthefold=function(g,h){var f;if(h.container===e||h.container===b){f=d.height()+d.scrollTop()}else{f=c(h.container).offset().top+c(h.container).height()}return f<=c(g).offset().top-h.threshold};c.rightoffold=function(g,h){var f;if(h.container===e||h.container===b){f=d.width()+d.scrollLeft()}else{f=c(h.container).offset().left+c(h.container).width()}return f<=c(g).offset().left-h.threshold};c.abovethetop=function(g,h){var f;if(h.container===e||h.container===b){f=d.scrollTop()}else{f=c(h.container).offset().top}return f>=c(g).offset().top+h.threshold+c(g).height()};c.leftofbegin=function(g,h){var f;if(h.container===e||h.container===b){f=d.scrollLeft()}else{f=c(h.container).offset().left}return f>=c(g).offset().left+h.threshold+c(g).width()};c.inviewport=function(f,g){return !c.rightoffold(f,g)&&!c.leftofbegin(f,g)&&!c.belowthefold(f,g)&&!c.abovethetop(f,g)};c.extend(c.expr[":"],{"below-the-fold":function(f){return c.belowthefold(f,{threshold:0})},"above-the-top":function(f){return !c.belowthefold(f,{threshold:0})},"right-of-screen":function(f){return c.rightoffold(f,{threshold:0})},"left-of-screen":function(f){return !c.rightoffold(f,{threshold:0})},"in-viewport":function(f){return c.inviewport(f,{threshold:0})},"above-the-fold":function(f){return !c.belowthefold(f,{threshold:0})},"right-of-fold":function(f){return c.rightoffold(f,{threshold:0})},"left-of-fold":function(f){return !c.rightoffold(f,{threshold:0})}})})(jQuery,window,document);
/*!
* FitVids 1.0
*
* Copyright 2011, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
(function(a){a.fn.fitVids=function(b){var c={customSelector:null};var e=document.createElement("div"),d=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];e.className="fit-vids-style";e.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";d.parentNode.insertBefore(e,d);if(b){a.extend(c,b)}return this.each(function(){var f=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.youtube-nocookie.com']","iframe[src*='www.kickstarter.com']","object","embed"];if(c.customSelector){f.push(c.customSelector)}var g=a(this).find(f.join(","));g.each(function(){var l=a(this);if(this.tagName.toLowerCase()==="embed"&&l.parent("object").length||l.parent(".fluid-width-video-wrapper").length){return}var h=(this.tagName.toLowerCase()==="object"||(l.attr("height")&&!isNaN(parseInt(l.attr("height"),10))))?parseInt(l.attr("height"),10):l.height(),i=!isNaN(parseInt(l.attr("width"),10))?parseInt(l.attr("width"),10):l.width(),j=h/i;if(!l.attr("id")){var k="fitvid"+Math.floor(Math.random()*999999);l.attr("id",k)}l.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(j*100)+"%");l.removeAttr("height").removeAttr("width")})})}})(jQuery);
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
window.matchMedia=window.matchMedia||(function(e,f){var c,a=e.documentElement,b=a.firstElementChild||a.firstChild,d=e.createElement("body"),g=e.createElement("div");g.id="mq-test-1";g.style.cssText="position:absolute;top:-100em";d.appendChild(g);return function(h){g.innerHTML='&shy;<style media="'+h+'"> #mq-test-1 { width: 42px; }</style>';a.insertBefore(d,b);c=g.offsetWidth==42;a.removeChild(d);return{matches:c,media:h}}})(document);
/*! Picturefill - Responsive Images that work today. (and mimic the proposed Picture element with divs). Author: Scott Jehl, Filament Group, 2012 | License: MIT/GPLv2 */
(function(a){a.picturefill=function(){var b=a.document.getElementsByTagName("div");for(var f=0,k=b.length;f<k;f++){if(b[f].getAttribute("data-picture")!==null){var c=b[f].getElementsByTagName("div"),h=[];for(var e=0,g=c.length;e<g;e++){var d=c[e].getAttribute("data-media");if(!d||(a.matchMedia&&a.matchMedia(d).matches)){h.push(c[e])}}var l=b[f].getElementsByTagName("img")[0];if(h.length){if(!l){l=a.document.createElement("img");l.alt=b[f].getAttribute("data-alt");b[f].appendChild(l)}l.src=h.pop().getAttribute("data-src")}else{if(l){b[f].removeChild(l)}}}}};if(a.addEventListener){a.addEventListener("resize",a.picturefill,false);a.addEventListener("DOMContentLoaded",function(){a.picturefill();a.removeEventListener("load",a.picturefill,false)},false);a.addEventListener("load",a.picturefill,false)}else{if(a.attachEvent){a.attachEvent("onload",a.picturefill)}}}(this));$(function(){$("a[href$='.jpg'],a[href$='.png'],a[href$='.gif']").attr("rel","gallery").fancybox({padding:0,openEffect:"elastic",closeEffect:"elastic",overlay:{css:{background:"rgba(0,0,0,0.5)"}},helpers:{title:{type:"outside"}}})});$(function(){$("img.lazy").show().lazyload({event:"turnPage",effect:"fadeIn"});$("div.holder").jPages({containerID:"itemContainer",previous:"←",next:"→",perPage:30,midRange:3,direction:"random",minHeight:false,callback:function(a,b){b.showing.find("img").trigger("turnPage");b.oncoming.find("img").trigger("turnPage")}})});$(function(){$("article").fitVids()});$(function(){$(".toc h3").click(function(){$("#drawer").toggleClass("hidden")})});
